<html>
  <head>
    <link rel="stylesheet" href="/.rtag/styles.css" />
    <link rel="stylesheet" href="/.rtag/node_modules/vue-select/dist/vue-select.css" />
  </head>

  <body>
    <div id="app">
      <router-view></router-view>
    </div>
    <script type="text/x-template" id="home-template">
      <div>
        <button type="button" class="button" @click="createState">
          <span class="button-text">Create new</span>
        </button>
        <div>Or</div>
        <form class="form-group" @submit.prevent="joinState">
          <div class="input-group">
            <input class="input" v-model="stateId" type="text" />
          </div>
          <button type="submit" class="button submit">
            <span class="button-text">Join existing</span>
          </button>
        </form>
      </div>
    </script>
    <script type="text/x-template" id="state-template">
      <div class="container">
        <div class="forms-container">
          <method-form method="joinGame" v-slot="{ value, update }">
            <object-input arg="joinGame" :value="value.joinGame" :required="true" @update="update" v-slot="{ value, update }">
            </object-input>
          </method-form>
          <method-form method="startGame" v-slot="{ value, update }">
            <object-input arg="startGame" :value="value.startGame" :required="true" @update="update" v-slot="{ value, update }">
            </object-input>
          </method-form>
          <method-form method="startHand" v-slot="{ value, update }">
            <object-input arg="startHand" :value="value.startHand" :required="true" @update="update" v-slot="{ value, update }">
            </object-input>
          </method-form>
          <method-form method="progressHand" v-slot="{ value, update }">
            <object-input arg="progressHand" :value="value.progressHand" :required="true" @update="update" v-slot="{ value, update }">
            </object-input>
          </method-form>
        </div>
        <div v-if="Object.keys(value).length > 0" class="json-state">
          {
          <object-display class="object-display" :value="value" v-slot="{ value }">
            <div class="kv-display">
              <key-display value="players" type-string="PlayerName[]"></key-display>
              [
              <array-display class="array-display" :value="value.players" v-slot="{ value }">
                  <string-display class="string-display" :value="value"></string-display>,
              </array-display>
              ],
            </div>
            <div class="kv-display">
              <key-display value="hand" type-string="Card[]"></key-display>
              [
              <array-display class="array-display" :value="value.hand" v-slot="{ value }">
                  {
                  <object-display class="object-display" :value="value" v-slot="{ value }">
                    <div class="kv-display">
                      <key-display value="rank" type-string="Rank"></key-display>
                      <enum-display class="enum-display" :value="value.rank" enum="Rank"></enum-display>,
                    </div>
                    <div class="kv-display">
                      <key-display value="suit" type-string="Suit"></key-display>
                      <enum-display class="enum-display" :value="value.suit" enum="Suit"></enum-display>,
                    </div>
                  </object-display>
                  },
              </array-display>
              ],
            </div>
            <div class="kv-display">
              <key-display value="board" type-string="Card[]"></key-display>
              [
              <array-display class="array-display" :value="value.board" v-slot="{ value }">
                  {
                  <object-display class="object-display" :value="value" v-slot="{ value }">
                    <div class="kv-display">
                      <key-display value="rank" type-string="Rank"></key-display>
                      <enum-display class="enum-display" :value="value.rank" enum="Rank"></enum-display>,
                    </div>
                    <div class="kv-display">
                      <key-display value="suit" type-string="Suit"></key-display>
                      <enum-display class="enum-display" :value="value.suit" enum="Suit"></enum-display>,
                    </div>
                  </object-display>
                  },
              </array-display>
              ],
            </div>
            <div class="kv-display">
              <key-display value="gameStatus" type-string="GameStatus"></key-display>
              <enum-display class="enum-display" :value="value.gameStatus" enum="GameStatus"></enum-display>,
            </div>
            <div class="kv-display">
              <key-display value="handStatus" type-string="HandStatus"></key-display>
              <enum-display class="enum-display" :value="value.handStatus" enum="HandStatus"></enum-display>,
            </div>
          </object-display>
          },
        </div>
      </div>
    </script>
    <script type="module" src="/@vite/client"></script>
    <script type="module" src="/.rtag/app.ts"></script>
  </body>
</html>
